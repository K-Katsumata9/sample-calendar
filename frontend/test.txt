import { createStore } from 'vuex';
//import events from './modules/events.js';
import axios from 'axios';
const apiUrl = 'http://localhost:3000';



const store = createStore({
  state: {
    events: []
  },
  
  getters: {
    events: state => {
      return state.events
    }
  },
  
  mutations: {
    setEvents(state, events) {
      state.events = events
    }
  },
  
  actions: {
    async fetchEvents(context) {
      const res = await axios.get(`${apiUrl}/events`,{});
      context.commit('setEvents',res.data);  // mutationを呼び出す
    }
  }
});

export default store;